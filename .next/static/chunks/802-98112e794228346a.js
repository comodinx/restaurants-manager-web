"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[802],{1802:function(e,t,n){n.d(t,{un:function(){return q},Aj:function(){return P},l3:function(){return ep},SK:function(){return eF},jt:function(){return l},bM:function(){return j},Fg:function(){return d},Bd:function(){return p},Gb:function(){return x},S9:function(){return g},SC:function(){return N},Bc:function(){return o},jV:function(){return m},vM:function(){return h},JZ:function(){return u},fq:function(){return v},f7:function(){return f},z$:function(){return B},gs:function(){return w},Rn:function(){return C},F:function(){return k},D4:function(){return E},NC:function(){return O},s_:function(){return F},uW:function(){return S},Lv:function(){return D},CI:function(){return eg},yG:function(){return M},y5:function(){return I},cp:function(){return R}});var a={};n.r(a),n.d(a,{restaurants:function(){return Y}});var r={};n.r(r),n.d(r,{formatReservationDate:function(){return _},formatReservationDateForHummands:function(){return G}});var s={};n.r(s),n.d(s,{name:function(){return K},version:function(){return U}});var i={};n.r(i),n.d(i,{appEnv:function(){return X},env:function(){return $},isProd:function(){return ee}});var c=n(5893);function o(e){let{className:t="text-restaurants-950",size:n=2.5}=e;return(0,c.jsx)("svg",{className:"w-".concat(n," h-").concat(n," ").concat(t),"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 128 128",children:(0,c.jsxs)("g",{transform:"translate(0.000000,128.000000) scale(0.100000,-0.100000)",fill:"currentColor",stroke:"none",children:[(0,c.jsx)("path",{d:"M135 1003 c-74 -80 -85 -181 -26 -245 11 -11 27 -36 36 -55 15 -31 15 -47 1 -192 -9 -87 -16 -166 -16 -174 0 -41 66 -62 105 -33 18 13 18 20 6 142 -26 255 -29 225 23 303 35 52 46 78 46 107 -1 79 -67 174 -121 174 -18 0 -38 -10 -54 -27z"}),(0,c.jsx)("path",{d:"M1159 983 c-55 -47 -69 -91 -69 -234 0 -115 2 -127 21 -145 24 -21 23 -42 -6 -173 -21 -97 -18 -123 18 -135 21 -8 35 -7 55 5 l27 15 3 347 c1 211 -1 347 -7 347 -5 0 -24 -12 -42 -27z"}),(0,c.jsx)("path",{d:"M590 976 c-72 -15 -138 -54 -190 -113 -70 -79 -85 -121 -85 -243 0 -94 3 -111 28 -161 34 -70 109 -142 185 -177 48 -23 71 -27 147 -27 82 0 97 3 157 33 66 32 144 105 172 161 44 86 46 244 5 329 -28 57 -111 142 -165 170 -39 20 -138 43 -178 41 -12 0 -46 -6 -76 -13z m202 -100 c53 -25 110 -84 138 -141 28 -59 32 -161 7 -218 -46 -106 -152 -177 -263 -177 -72 0 -166 41 -207 90 -55 65 -72 109 -72 190 0 66 5 83 31 130 33 58 103 120 158 138 45 16 164 9 208 -12z"}),(0,c.jsx)("path",{d:"M617 859 c-115 -28 -187 -120 -187 -239 0 -205 231 -319 394 -194 67 51 91 102 91 194 0 88 -23 140 -80 188 -55 45 -151 68 -218 51z"})]})})}function l(e){let{className:t="",size:n=2.5}=e;return(0,c.jsx)("svg",{className:"".concat(t," w-").concat(n," h-").concat(n),fill:"#000000",viewBox:"0 0 20 20","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})})}function u(){return(0,c.jsx)("svg",{className:"w-3 h-3 text-restaurants-900","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 2",children:(0,c.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 1h16"})})}function d(){return(0,c.jsx)("img",{className:"w-5 h-5",src:"/assets/media/img/ic-confort.png",alt:""})}function h(e){let{className:t="",size:n=5}=e;return(0,c.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 text-restaurants-950 ".concat(t," w-").concat(n," h-").concat(n),fill:"#000000",viewBox:"0 0 24 24","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function m(){return(0,c.jsx)("svg",{className:"w-5 h-5",fill:"#b0b0b0",viewBox:"0 0 20 20","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"})})}function x(e){let{className:t="",size:n=2.5}=e;return(0,c.jsx)("img",{className:"".concat(t," w-").concat(n," h-").concat(n),src:"/assets/media/img/ic-guests.png",alt:""})}function v(e){let{capacity:t,alt:n,className:a="",size:r="w-5 h-5"}=e;return(0,c.jsx)("img",{className:"".concat(a," ").concat(r),src:"/assets/media/img/img-table-".concat(t,"-guests.png"),alt:n})}function j(){return(0,c.jsx)("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:(0,c.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})})}function g(e){let{className:t="text-restaurants-300",size:n=4}=e;return(0,c.jsx)("svg",{className:"w-".concat(n," h-").concat(n," ").concat(t),"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 20",children:(0,c.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 14h12M1 4h12M6.5 16.5h1M2 1h10a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1Z"})})}function p(e){let{className:t="text-restaurants-300",size:n=4}=e;return(0,c.jsxs)("svg",{className:"w-".concat(n," h-").concat(n," ").concat(t),"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 16",children:[(0,c.jsx)("path",{d:"m10.036 8.278 9.258-7.79A1.979 1.979 0 0 0 18 0H2A1.987 1.987 0 0 0 .641.541l9.395 7.737Z"}),(0,c.jsx)("path",{d:"M11.241 9.817c-.36.275-.801.425-1.255.427-.428 0-.845-.138-1.187-.395L0 2.6V14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2.5l-8.759 7.317Z"})]})}function f(e){let{className:t="text-restaurants-300",size:n=4}=e;return(0,c.jsx)("svg",{className:"w-".concat(n," h-").concat(n," ").concat(t),"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,c.jsx)("path",{d:"M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"})})}function N(){return(0,c.jsx)("svg",{className:"w-3 h-3 text-restaurants-900","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:(0,c.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 1v16M1 9h16"})})}function b(e){let{type:t="text",placeholder:n="",className:a="",value:r="",onChange:s=()=>null}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("input",{type:t,className:"input ".concat(a),placeholder:n,value:r,onChange:s})})}function w(e){let{type:t="text",icon:n=null,label:a="",value:r="",className:s="",classNameInput:i="",classNameLabel:o="",classNameIcon:l="",placeholder:u="",onChange:d=()=>null}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"input-control-container ".concat(s),children:[(0,c.jsx)("label",{className:"input-control-label ".concat(o),children:a}),(0,c.jsxs)("div",{className:"input-control-icon-container",children:[!!n&&(0,c.jsx)("div",{className:"input-control-icon ".concat(l),children:n}),(0,c.jsx)(b,{className:i,type:t,placeholder:u,value:r,onChange:d})]})]})})}var y=n(7294);function C(e){let{min:t=1,max:n=99,type:a="text",value:r=1,className:s="",classNameInput:i="",classNameSubtract:o="",classNamePlus:l="",placeholder:d="1",onChange:h=()=>null}=e,[m,x]=(0,y.useState)(r),v=e=>{x(a=>{let r=a+e;return r<t&&(r=t),r>n&&(r=n),h(r),r})};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"input-number-container ".concat(s),children:[(0,c.jsx)("button",{type:"button",className:"input-number-btn input-number-btn-subtract ".concat(o),onClick:()=>v(-1),children:(0,c.jsx)(u,{})}),(0,c.jsx)("input",{type:a,value:m,placeholder:d,className:"input-number ".concat(i),onChange:e=>v(e.target.value)}),(0,c.jsx)("button",{type:"button",className:"input-number-btn input-number-btn-plus ".concat(l),onClick:()=>v(1),children:(0,c.jsx)(N,{})})]})})}function k(e){let{min:t=1,max:n=99,type:a="text",label:r="",value:s=1,className:i="",classNameInput:o="",classNameSubtract:l="",classNamePlus:u="",placeholder:d="1",onChange:h=()=>null}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"input-number-control-container",children:[(0,c.jsx)("label",{className:"input-number-control-label",children:r}),(0,c.jsx)(C,{min:t,max:n,type:a,value:s,className:i,classNameInput:o,classNameSubtract:l,classNamePlus:u,placeholder:d,onChange:h})]})})}function S(e){let{className:t=""}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"panel-divider ".concat(t)})})}function F(e){let{className:t="",children:n}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"panel ".concat(t),children:n})})}function D(e){let{className:t="",children:n}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"panel-item ".concat(t),children:n})})}function R(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("section",{className:"state-loading",children:(0,c.jsx)(h,{})})})}function M(e){let{className:t="",title:n="Ooops!",message:a=""}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(F,{className:t,children:[(0,c.jsx)("h2",{className:"state-empty-title",children:n}),(0,c.jsx)("p",{className:"state-empty-message",children:a})]})})}function I(e){let{className:t="",title:n="Ooops!",message:a="‚ùå Parece que ocurrio un error. Por favor intenta de nuevo m\xe1s tarde \uD83E\uDD72"}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(F,{className:t,children:[(0,c.jsx)("h2",{className:"state-error-title",children:n}),(0,c.jsx)("p",{className:"state-error-message",children:a})]})})}var L=n(1664),z=n.n(L);function O(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("header",{children:[(0,c.jsxs)(z(),{href:"/",className:"header-logo-container",children:[(0,c.jsx)("img",{className:"header-logo",src:"/assets/media/img/logo.png",alt:"Restaurantes"}),(0,c.jsx)("span",{className:"header-title",children:"Restaurantes"})]}),(0,c.jsx)("div",{className:"header-actions",children:(0,c.jsxs)("div",{className:"header-action",children:[(0,c.jsx)(d,{}),(0,c.jsx)("span",{className:"header-action-title",children:"Reservas online para tu comodidad"})]})})]})})}function E(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("footer",{children:(0,c.jsx)("p",{className:"copyright",children:"Copyright \xa9 2023 LAIKA - Derechos reservados"})})})}function P(e){let{children:t,className:n="",size:a="w-8 h-8",onClick:r=()=>null}=e;return(0,c.jsxs)("button",{type:"button",className:"btn-icon ".concat(a," ").concat(n),onClick:r,children:[t,(0,c.jsx)("span",{className:"sr-only",children:"\xa0"})]})}let A={cancel:"text-restaurants-950 bg-restaurants-50 hover:bg-restaurants-100 hover:text-restaurants-700 focus:ring-restaurants-100",accept:"text-restaurants-950 bg-green-500 hover:bg-green-600 hover:text-restaurants-950 focus:ring-green-100 disabled:animate-pulse"};function q(e){let{children:t,className:n="",variant:a="accept",disabled:r=!1,isLoading:s=!1,onClick:i=()=>null}=e;return(0,c.jsxs)("button",{type:"button",disabled:s||r,className:"btn ".concat(A[a]||""," ").concat(n),onClick:i,children:[s&&(0,c.jsx)(h,{}),t]})}function B(e){let{text:t,variant:n="green"}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("span",{className:"indicator-container bg-".concat(n,"-100 text-").concat(n,"-800"),children:[(0,c.jsx)("span",{className:"indicator-icon bg-".concat(n,"-500")}),t]})})}var V=n(9008),H=n.n(V),Z=n(6486);let T="laika-",J=e=>e.startsWith(T)?e:"".concat(T).concat(e),W={getLocal:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let t=localStorage.getItem(J(e));if(null!=t)return n?t:JSON.parse(t)}catch(e){console.error("LocalStorage getItem error:",e)}return t},setLocal:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{localStorage.setItem(J(e),n?t:JSON.stringify(t))}catch(e){console.error("LocalStorage setItem error:",e)}},getSession:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let t=sessionStorage.getItem(J(e));if(null!=t)return n?t:JSON.parse(t)}catch(e){console.error("SessionStorage getItem error:",e)}return t},setSession:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{sessionStorage.setItem(J(e),n?t:JSON.stringify(t))}catch(e){console.error("SessionStorage setItem error:",e)}}},Y=[{id:1,title:"Salud",description:"Todo relacionado con la salud f\xedsica y el tratamiento de enfermedades en tu mascota. Incluye informaci\xf3n sobre s\xedntomas, tratamientos y cuidados m\xe9dicos.",icon:"ic-pet-health.svg"},{id:2,title:"Cuidados",description:"Asuntos cotidianos y necesidades b\xe1sicas de tu mascota, como alimentaci\xf3n, higiene, desparasitaci\xf3n y vacunaci\xf3n. Proporciona orientaci\xf3n para el cuidado general.",icon:"ic-pet-grooming.svg"},{id:3,title:"Conducta",description:"Enfoque en el comportamiento, la socializaci\xf3n y la interacci\xf3n de tu mascota. Incluye temas como adaptaci\xf3n, convivencia con otras mascotas y adiestramiento b\xe1sico.",icon:"ic-pet-walking.svg"}],_="YYYY-MM-DD",G="dddd DD [de] MMMM [del] YYYY",K="restaurants-manager-web",U="1.0.0";var Q=n(3454);let $="production",X=Q.env.APP_NODE_ENV||"development",ee=["prod","production"].includes(String($).toLowerCase()),et={...i,restaurants:a,dates:r,app:s},en={body:null,method:"GET",mode:"cors",headers:{accept:"*/*","content-type":"application/json"}},ea=new class{async fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.prepareOptions(t),a=this.prepareUrl(e,n);delete n.params;let r=await fetch(a,n);if(n.raw)return r;if(!r.ok){let e=await r.json(),t=Error(e.message||e.error);throw t.code=e.code,t.extra=e.extra,t}return r.json()}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="get",this.fetch(e,t)}post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="post",this.fetch(e,t)}put(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="put",this.fetch(e,t)}patch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="patch",this.fetch(e,t)}del(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="delete",this.fetch(e,t)}opts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="options",this.fetch(e,t)}head(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="head",this.fetch(e,t)}connect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="connect",this.fetch(e,t)}trace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="trace",this.fetch(e,t)}prepareUrl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.startsWith("http");n||(e="".concat("/api").concat(e));let a=new URL(e,n?void 0:"http://localhost");return t.params&&Object.keys(t.params).forEach(e=>a.searchParams.append(e,t.params[e])),"".concat(a.pathname).concat(a.search)}prepareOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=W.getSession("env",et.appEnv);return e.body&&(0,Z.isObject)(e.body)&&(e.body=JSON.stringify(e.body)),e.json&&(0,Z.isObject)(e.json)&&(e.body=e.json),e.headers=e.headers||{},e.headers["x-laika-env"]=t,(0,Z.defaultsDeep)({},e,en)}},er=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new URLSearchParams(window.location.search);return n.get(e)||t};var es=n(381),ei=n.n(es),ec=n(9726);let eo=e=>{var t;let n=async t=>{let{pageParam:n=ei()().format(et.dates.formatReservationDate)}=t,a={params:{includeNotAvailables:"true",includeRestaurant:"true",startDate:n,endDate:ei()(n).add(7,"days").format(et.dates.formatReservationDate)}};return ea.get("/restaurants/".concat(e,"/availability"),a)},{data:a,error:r,isError:s,isLoading:i,fetchNextPage:c,hasNextPage:o,isFetchingNextPage:l}=(0,ec.N)({queryKey:["restaurant-availability",e],queryFn:n,enabled:!!e,initialPageParam:ei()().format(et.dates.formatReservationDate),getNextPageParam:e=>{let t=null==e?void 0:e.timelines;if(!t)return null;let n=Object.keys(t);return ei()(n[n.length-1],et.dates.formatReservationDate).add(1,"days").format(et.dates.formatReservationDate)}}),u={restaurant:(null===(t=null==a?void 0:a.pages[0])||void 0===t?void 0:t.restaurant)||{},timelines:null==a?void 0:a.pages.reduce((e,t)=>({...e,...null==t?void 0:t.timelines}),{})};return{isFetchingNextPage:l,fetchNextPage:c,hasNextPage:o,isLoading:i,isError:s,error:r,data:u}},el=(0,y.createContext)({}),eu={2:"w-12 h-12",4:"w-12 h-12",6:"w-12 h-16",8:"w-16 h-16",12:"w-20 h-16"};function ed(e){let{date:t,table:n,available:a,onSelectTable:r}=e,{selectedTable:s,selectedDate:i}=(0,y.useContext)(el),o=(null==s?void 0:s.id)===n.id&&i===t,l=()=>{a&&r(n,t)};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"restaurant-reservations-timeline-table-container border-".concat(a?"restaurants":"red","-200 ").concat(o?"shadow-lg bg-restaurants-50":""),onClick:l,children:(0,c.jsxs)("div",{className:"restaurant-reservations-timeline-table",children:[(0,c.jsx)("div",{className:"restaurant-reservations-timeline-table-icon",children:(0,c.jsx)("img",{className:eu[n.capacity],src:"/assets/media/img/img-table-".concat(n.capacity,"-guests.png"),alt:n.observations})}),(0,c.jsxs)("div",{className:"restaurant-reservations-timeline-table-body",children:[(0,c.jsx)("div",{className:"restaurant-reservations-timeline-table-text-container",children:(0,c.jsxs)("p",{className:"restaurant-reservations-timeline-table-text",children:[n.capacity," personas"]})}),(0,c.jsx)(B,{text:a?o?"Selecciona":"Disponible":"Reservada",variant:a?o?"violet":"green":"red"})]})]})})})}function eh(e){let{date:t,timeline:n,onSelectTable:a}=e,{selectedNumGuests:r,restaurant:s}=(0,y.useContext)(el),i=ei()(t,et.dates.formatReservationDate).format(et.dates.formatReservationDateForHummands),o=s.tables.reduce((e,t)=>(e[t.id]=t,e),{}),u=n.filter(e=>o[e.tableId].capacity>=r);return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("li",{className:"restaurant-reservations-timeline",children:[(0,c.jsx)("span",{className:"restaurant-reservations-timeline-icon",children:(0,c.jsx)(l,{})}),(0,c.jsx)("time",{className:"restaurant-reservations-timeline-date",children:i}),(0,c.jsx)("div",{className:"restaurant-reservations-timeline-tables",children:u.map((e,n)=>(0,c.jsx)(ed,{date:t,table:o[e.tableId],available:e.available,onSelectTable:a},n))})]})})}function em(e){let{onSelectTable:t}=e,n=(0,y.useRef)(null),{timelines:a={},fetchNextPage:r,hasNextPage:s,isFetchingNextPage:i}=(0,y.useContext)(el);return(0,y.useEffect)(()=>{let e=new IntersectionObserver(e=>{let t;return e[0].isIntersecting&&s&&!i&&(t=setTimeout(()=>r(),1e3)),()=>{t&&clearTimeout(t)}},{threshold:1});return n.current&&e.observe(n.current),()=>{n.current&&e.unobserve(n.current)}},[r,s,i]),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("section",{className:"restaurant-reservations-timelines-container",children:(0,c.jsxs)("div",{className:"restaurant-reservations-timelines",children:[(0,c.jsx)("h2",{className:"restaurant-reservations-timelines-title",children:"\xbfQue d\xeda vas a reservar?"}),(0,c.jsx)("ol",{className:"restaurant-reservations-timelines-entries",children:Object.keys(a).map((e,n)=>(0,c.jsx)(eh,{date:e,timeline:a[e],onSelectTable:t},n))}),(0,c.jsx)("div",{ref:n,className:"restaurant-reservations-timelines-loader-container",children:(0,c.jsx)("div",{className:"restaurant-reservations-timelines-loader",children:"cargando..."})})]})})})}let ex={2:"w-6 h-6",4:"w-6 h-6",6:"w-6 h-8",8:"w-8 h-8",12:"w-10 h-8"};function ev(e){let{show:t=!1,onClose:n,onConfirm:a}=e,{restaurant:r,customer:s,selectedDate:i=null,selectedTable:u=null,selectedNumGuests:d=1,setShowDrawer:h,isConfirming:m}=(0,y.useContext)(el),N=i?ei()(i,et.dates.formatReservationDate).format(et.dates.formatReservationDateForHummands):"",b=!!s.email||!!s.phone;return t?(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("section",{className:"restaurant-reservations-drawer",tabIndex:-1,children:[(0,c.jsx)("h2",{className:"restaurant-reservations-drawer-title",children:"Confirmaci\xf3n"}),(0,c.jsx)(P,{onClick:n,children:(0,c.jsx)(j,{})}),(0,c.jsx)("p",{className:"restaurant-reservations-drawer-subtitle",children:"\xbfEst\xe1s listo para confirmar tu reserva?"}),!b&&(0,c.jsx)(F,{className:"restaurant-reservations-drawer-warning",children:(0,c.jsx)("p",{className:"restaurant-reservations-drawer-warning-message",children:"\uD83D\uDCA1 Por favor, recorda completar los datos de contanto"})}),b&&(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(F,{className:"restaurant-reservations-drawer-body",children:[!!s.name&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(D,{children:[(0,c.jsx)(f,{className:"text-restaurants-950"}),(0,c.jsx)("p",{className:"restaurant-reservations-drawer-body-text",children:s.name})]}),(0,c.jsx)(S,{})]}),!!s.email&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(D,{children:[(0,c.jsx)(p,{className:"text-restaurants-950"}),(0,c.jsx)("p",{className:"restaurant-reservations-drawer-body-text",children:s.email})]}),!!s.phone&&(0,c.jsx)(S,{})]}),!!s.phone&&(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(D,{children:[(0,c.jsx)(g,{className:"text-restaurants-950"}),(0,c.jsx)("p",{className:"restaurant-reservations-drawer-body-text",children:s.phone})]})})]})}),(0,c.jsxs)(F,{className:"restaurant-reservations-drawer-body",children:[(0,c.jsxs)(D,{children:[(0,c.jsx)(o,{size:5}),(0,c.jsx)("p",{className:"restaurant-reservations-drawer-body-text",children:r.description})]}),(0,c.jsx)(S,{}),(0,c.jsxs)(D,{children:[(0,c.jsx)(l,{className:"mx-1",size:4}),(0,c.jsx)("p",{className:"restaurant-reservations-drawer-body-text",children:N})]}),(0,c.jsx)(S,{}),(0,c.jsxs)(D,{children:[(0,c.jsx)(x,{className:"mx-1",size:4}),(0,c.jsxs)("p",{className:"restaurant-reservations-drawer-body-text",children:["Cantidad de comensales ",d]})]}),(0,c.jsx)(S,{}),(0,c.jsxs)(D,{children:[(0,c.jsx)(v,{capacity:u.capacity,size:ex[u.capacity],alt:u.observations}),(0,c.jsxs)("p",{className:"restaurant-reservations-drawer-body-text",children:["Mesa para ",u.capacity," personas"]})]})]}),(0,c.jsxs)("div",{className:"restaurant-reservations-drawer-actions",children:[(0,c.jsx)(q,{variant:"cancel",onClick:n,children:"Cancelar"}),(0,c.jsx)(q,{isLoading:m,disabled:!(!m&&b),variant:"accept",onClick:a,children:"Confirmar"})]})]})}):u?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{onClick:()=>h(!0),className:"restaurant-reservations-drawer-toggler",tabIndex:-1,children:"confirmar"})}):(0,c.jsx)(c.Fragment,{})}function ej(e){let{onChangeNumGuests:t}=e,{customer:n,setCustomer:a,selectedNumGuests:r}=(0,y.useContext)(el),s=e=>a({...n,name:e}),i=e=>a({...n,email:e}),o=e=>a({...n,phone:e});return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("section",{className:"restaurant-reservations-form-container",children:(0,c.jsxs)("div",{className:"restaurant-reservations-form",children:[(0,c.jsx)("h2",{className:"restaurant-reservations-form-title",children:"Datos de contacto"}),(0,c.jsx)(F,{children:(0,c.jsxs)("form",{className:"restaurant-reservations-form-body",children:[(0,c.jsx)(w,{icon:(0,c.jsx)(f,{}),label:"Nombre",placeholder:"Jonh Doe",value:n.name||"",onChange:e=>s(e.target.value)}),(0,c.jsx)(w,{icon:(0,c.jsx)(p,{}),type:"email",label:"Correo electr\xf3nico",placeholder:"jonhdoe@gmail.com",value:n.email||"",onChange:e=>i(e.target.value)}),(0,c.jsx)(w,{icon:(0,c.jsx)(g,{}),label:"Tel\xe9fono",placeholder:"+541123456789",value:n.phone||"",onChange:e=>o(e.target.value)}),(0,c.jsx)(k,{label:"\xbfCuantas personas son?",value:r,onChange:t})]})})]})})})}function eg(e){var t;let{id:n}=e,[a,r]=(0,y.useState)(!1),[s,i]=(0,y.useState)(!1),[o,l]=(0,y.useState)({}),[u,d]=(0,y.useState)(null),[h,m]=(0,y.useState)(null),[x,v]=(0,y.useState)(1),{data:j,isError:g,isLoading:p,fetchNextPage:f,hasNextPage:N,isFetchingNextPage:b}=eo(n),w={id:n,restaurant:null==j?void 0:j.restaurant,timelines:null==j?void 0:j.timelines,isConfirming:s,setIsConfirming:i,customer:o,setCustomer:l,selectedDate:u,setSelectedDate:d,selectedTable:h,setSelectedTable:m,selectedNumGuests:x,setSelectedNumGuests:v,showDrawer:a,setShowDrawer:r,fetchNextPage:f,hasNextPage:N,isFetchingNextPage:b},C=(e,t)=>{d(t),m(n=>{let a=(null==n?void 0:n.id)!==(null==e?void 0:e.id)||u!==t,r=(null==n?void 0:n.id)!==(null==e?void 0:e.id)||a?e:null;return S(!!r),r})},k=e=>{h&&h.capacity<e&&C(null,null),v(e)},S=e=>{e!==a&&r(e)},F=()=>{r(!1)},D=async()=>{var e,t;if(i(!0),!(null===(e=o.email)||void 0===e?void 0:e.trim())&&!(null===(t=o.phone)||void 0===t?void 0:t.trim()))return i(!1),alert("Por favor ingresa tu Correo Electr\xf3nico o tu tel\xe9fono para la confirmaci\xf3n de tu reserva.");let n={body:{name:o.name,email:o.email,phone:o.phone,restaurantId:null==j?void 0:j.restaurant.id,tableId:h.id,reservationDate:u,numGuests:x}};try{let e=await ea.post("/reservations",n);(null==e?void 0:e.id)?(alert("Reserva realizada con exito."),window.location.href="/"):alert("Lo sentimos, parece que el correo electr\xf3nico o el c\xf3digo ingresados no son correctos, int\xe9ntalo de nuevo.")}catch(e){alert("Lo sentimos, parece que el correo electr\xf3nico o el c\xf3digo ingresados no son correctos, int\xe9ntalo de nuevo.")}i(!1)};return!p&&g?(0,c.jsx)(ep,{}):(0,c.jsxs)(el.Provider,{value:w,children:[(0,c.jsx)(H(),{children:(0,c.jsx)("title",{children:"Restaurantes - Reservas online - ".concat(null==j?void 0:null===(t=j.restaurant)||void 0===t?void 0:t.description)})}),(0,c.jsx)(O,{}),(0,c.jsxs)("main",{className:"restaurant-reservations-container",children:[p&&!g&&(0,c.jsx)(R,{}),!p&&!g&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ej,{onChangeNumGuests:k}),(0,c.jsx)(em,{onSelectTable:C}),(0,c.jsx)(ev,{show:a,onClose:F,onConfirm:D})]})]}),(0,c.jsx)(E,{})]})}function ep(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(H(),{children:(0,c.jsx)("title",{children:"Restaurantes - Reservas online"})}),(0,c.jsx)(O,{}),(0,c.jsx)("main",{className:"error-404-container",children:(0,c.jsxs)("div",{className:"error-404",children:[(0,c.jsx)("img",{className:"error-404-img",src:"/assets/media/img/img-error-404.jpg",alt:"Imagen"}),(0,c.jsx)("h2",{className:"error-404-title",children:"Ooops!"}),(0,c.jsx)("p",{className:"error-404-description",children:"No pudimos encontrar lo que estas buscando."}),(0,c.jsx)(q,{className:"error-404-action",onClick:()=>window.location.href="/",children:"Volver al inicio"})]})}),(0,c.jsx)(E,{})]})}var ef=n(8551);let eN=/\s+/g,eb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{searchTerm:t=null}=e,n={params:{page:1,pageSize:3}};ew(n,t);let{isLoading:a,isError:r,error:s,data:i}=(0,ef.a)({queryKey:["restaurants",JSON.stringify({searchTerm:t})],queryFn:()=>ea.get("/restaurants",n)});return{isLoading:a,isError:r,error:s,restaurants:i}},ew=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];t&&n.push("description li %".concat(t.replace(eN,"%"),"%")),n.length&&(e.params.filters=n.join(","))};function ey(e){let{restaurant:t}=e;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(z(),{href:"/restaurants/".concat(t.id),className:"restaurant fadeIn",style:{backgroundImage:"url('/assets/media/img/shape-path.svg')"},children:[(0,c.jsxs)("div",{className:"restaurant-content-container",children:[(0,c.jsx)("div",{className:"restaurant-image-container",children:(0,c.jsx)(o,{className:"restaurant-image"})}),(0,c.jsx)("h3",{className:"restaurant-title",children:t.description})]}),(0,c.jsx)("div",{className:"restaurant-bg",children:(0,c.jsx)("img",{src:"/assets/media/img/shape-utensils.png",alt:"Categor\xeda"})})]})})}function eC(e){let{searchTerm:t=null}=e,{restaurants:n,isError:a,isLoading:r}=eb({searchTerm:t}),s=!r&&!a&&!(null==n?void 0:n.length);return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("section",{className:"restaurants-container fadeIn",children:[r&&!a&&(0,c.jsx)(R,{}),a&&(0,c.jsx)(I,{className:"restaurants-state-error"}),s&&(0,c.jsx)(M,{className:"restaurants-state-empty",message:"\uD83C\uDF7DÔ∏è No encontramos el restaurante que estas buscando, lo sentimos mucho \uD83E\uDD72"}),!r&&!a&&!s&&(0,c.jsx)("div",{className:"restaurants",children:n.map((e,t)=>(0,c.jsx)(ey,{restaurant:e},t))})]})})}function ek(e){let{onSearch:t}=e,n=(0,y.useRef)(null),[a,r]=(0,y.useState)("");(0,y.useEffect)(()=>{r(er("q"))},[]),(0,y.useEffect)(()=>{t(a)},[a]);let s=()=>t(n.current.value),i=e=>{r(e.target.value)};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("section",{className:"search-container",children:(0,c.jsxs)("div",{className:"search-control",children:[(0,c.jsx)("input",{ref:n,type:"text",className:"search-input",placeholder:"\xbfQu\xe9 restaurante est\xe1n buscando?",value:a,onChange:i}),(0,c.jsx)("button",{type:"button",className:"search-btn",onClick:s,children:(0,c.jsx)(m,{})})]})})})}function eS(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("section",{className:"banner-confort",children:(0,c.jsxs)("div",{className:"banner-confort-container",children:[(0,c.jsxs)("div",{className:"banner-confort-header",children:[(0,c.jsx)("h2",{className:"banner-confort-title",children:"\xa1Reserva facil!"}),(0,c.jsx)("p",{className:"banner-confort-description",children:"Haz tu reserva desde casa en unos simples pasos y disfruta de la tranquilidad."})]}),(0,c.jsx)("div",{className:"banner-confort-img-3",children:(0,c.jsx)("img",{src:"/assets/media/img/img-confort.png",alt:"Imagen"})})]})})})}function eF(){let[e,t]=(0,y.useState)(""),n=e=>{t(e)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(H(),{children:(0,c.jsx)("title",{children:"Restaurantes - Reservas online"})}),(0,c.jsx)(O,{}),(0,c.jsxs)("main",{className:"home",children:[(0,c.jsx)(ek,{onSearch:n}),(0,c.jsx)(eC,{searchTerm:e}),(0,c.jsx)(eS,{})]}),(0,c.jsx)(E,{})]})}}}]);